# ── Supabase ──────────────────────────────────────────
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_DB_PASSWORD=your-db-password-here

# ── Database (async for pipeline, sync for Alembic) ──
DATABASE_URL=postgresql+asyncpg://postgres.YOUR_PROJECT_REF:YOUR_DB_PASSWORD@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
DATABASE_URL_SYNC=postgresql://postgres.YOUR_PROJECT_REF:YOUR_DB_PASSWORD@aws-0-eu-central-1.pooler.supabase.com:6543/postgres

# ── LLM Provider (primary — Together AI default) ─────
LLM_PROVIDER=together
LLM_BASE_URL=https://api.together.xyz/v1
LLM_MODEL=meta-llama/Llama-3.2-3B-Instruct-Turbo
LLM_API_KEY=your-together-api-key-here
LLM_BATCH_ENABLED=false

# ── Fallback LLM (Mistral — used when primary fails) ─
LLM_PROVIDER_FALLBACK=mistral
LLM_FALLBACK_BASE_URL=https://api.mistral.ai/v1
LLM_FALLBACK_MODEL=mistral-small-latest
LLM_FALLBACK_API_KEY=your-mistral-api-key-here

# Legacy fallback (used if LLM_API_KEY is empty):
# OPENAI_API_KEY=sk-...

# ── Pipeline Tier (A=cheapest, B=balanced, C=best) ───
PIPELINE_TIER=A

# ── Concurrency ──────────────────────────────────────
MAX_CONCURRENT_FETCHES=50
PER_DOMAIN_CONCURRENCY=3
FETCH_TIMEOUT_SECONDS=30

# ── Embedding ────────────────────────────────────────
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ── Clustering ───────────────────────────────────────
CLUSTER_KNN_K=10
CLUSTER_COSINE_THRESHOLD=0.65

# ── Local Summarizer (DistilBART pre-summarization) ──
LOCAL_SUMMARIZER_MODEL=sshleifer/distilbart-cnn-12-6
LOCAL_SUMMARIZER_ONNX_DIR=models/distilbart-cnn-onnx
LOCAL_SUMMARIZER_WORKERS=8

# ── Extraction ───────────────────────────────────────
MIN_CONTENT_LENGTH=200
PLAYWRIGHT_ENABLED=false

# ── Logging ──────────────────────────────────────────
LOG_LEVEL=INFO
LOG_FORMAT=json

# ── Railway ──────────────────────────────────────────
RAILWAY_ENVIRONMENT=production
PORT=8080
